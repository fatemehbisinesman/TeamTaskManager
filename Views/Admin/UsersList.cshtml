<div class="d-flex justify-content-center align-items-start mt-5 mb-5">
    <div class="p-4" style="width: 95%; max-width: 950px; background-color: #000; border-radius: 1rem;">

        <!-- تیتر و دکمه بازگشت -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="text-success m-0">
                <i class="bi bi-people-fill"></i> لیست کاربران
            </h4>
            <a asp-controller="Admin" asp-action="Dashboard" class="btn btn-outline-light btn-sm rounded-pill">
                <i class="bi bi-arrow-right-circle"></i> بازگشت
            </a>
        </div>

        <!-- جدول -->
        <table class="table table-bordered text-end" style="background-color: #eafaf1; color: #000;">
            <thead style="background-color: #198754; color: white;">
                <tr>
                    <th>شناسه</th>
                    <th>نام کامل</th>
                    <th>ایمیل</th>
                    <th>نقش</th>
                    <th>عملیات</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var user in Model)
                {
                    <tr>
                        <td>@user.Id</td>
                        <td>@user.FullName</td>
                        <td>@user.Email</td>
                        <td>
                            @if (user.Role == "Admin")
                            {
                                <span class="badge bg-danger">مدیر</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary">عادی</span>
                            }
                        </td>
                        <td>
                            <a asp-action="EditUser" asp-route-id="@user.Id" class="btn btn-warning btn-sm rounded-pill me-1">
                                <i class="bi bi-pencil-square"></i> ویرایش
                            </a>
                            <a asp-action="DeleteUser" asp-route-id="@user.Id" class="btn btn-danger btn-sm rounded-pill me-1" onclick="return confirm('آیا مطمئنی؟')">
                                <i class="bi bi-trash"></i> حذف
                            </a>
                            <a asp-action="ChangePassword" asp-route-id="@user.Id" class="btn btn-secondary btn-sm rounded-pill me-1">
                                <i class="bi bi-shield-lock"></i> رمز
                            </a>
                            <a asp-action="UserPayments" asp-controller="Admin" asp-route-userId="@user.Id" class="btn btn-outline-info btn-sm rounded-pill">
                                <i class="bi bi-cash-coin"></i>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>